# Gymtec ERP - Cursor AI Rules
# Proyecto: Sistema ERP para Gimnasios

## üö® REGLAS CR√çTICAS (OBLIGATORIAS)
1. **Idioma**: Responder SIEMPRE en espa√±ol.
2. **No Frameworks**: El frontend es 100% JavaScript Vanilla. NO sugerir React, Vue, etc.
3. **Validaci√≥n**: Validar siempre datos en frontend y backend.
4. **Async/Await**: Usar SIEMPRE `async/await`, nunca callbacks ni `.then()`.
5. **Manejo de Errores**: Bloques `try-catch` en todas las operaciones as√≠ncronas.
6. **Interfaz de Usuario**: Todo texto visible en la UI debe estar en espa√±ol.

## üõ†Ô∏è Est√°ndares Modernos (2024)
- **Variables**: `const` por defecto, `let` solo si es necesario. NUNCA `var`.
- **Funciones**: Arrow functions `() => {}` para callbacks y m√©todos cortos.
- **Strings**: Template literals \`\` para concatenaci√≥n.
- **Objetos**: Destructuring y Spread operator `...` para manipulaci√≥n de datos.
- **M√≥dulos**: `import/export` (ES Modules) donde sea posible, o `require` en backend Node.js.

## üèóÔ∏è Arquitectura del Proyecto
### Backend (Node.js + Express)
- **MVC Modular**: Controladores, Modelos (DB), Rutas.
- **Base de Datos**: MySQL2 con Connection Pool.
- **Seguridad**: Validar inputs, sanitizar SQL, manejar errores globalmente.

### Frontend (Vanilla JS)
- **Modularidad**: Un archivo JS por p√°gina/m√≥dulo.
- **DOM**: `querySelector`, `addEventListener`, manipulaci√≥n directa eficiente.
- **API**: `fetch` con manejo de errores centralizado.

## üìÇ Estructura de Archivos
- `backend/src/`: C√≥digo fuente del servidor.
- `backend/database/`: Scripts SQL y migraciones.
- `frontend/js/`: L√≥gica del cliente (m√≥dulos).
- `frontend/css/`: Estilos (Vanilla CSS + Tailwind si aplica).

## üí° Patrones Comunes
### Consulta SQL Segura
```javascript
const [rows] = await db.execute('SELECT * FROM users WHERE id = ?', [userId]);
```

### Fetch Wrapper
```javascript
async function apiCall(url, options = {}) {
  try {
    const res = await fetch(url, options);
    if (!res.ok) throw new Error(`HTTP ${res.status}`);
    return await res.json();
  } catch (err) {
    console.error('API Error:', err);
    throw err;
  }
}
```

## üìù Nomenclatura
- **Variables/Funciones**: `camelCase` (ej: `getUserData`)
- **Clases/Componentes**: `PascalCase` (ej: `UserController`)
- **Constantes**: `UPPER_SNAKE_CASE` (ej: `MAX_RETRY_COUNT`)
- **Archivos**: `kebab-case` (ej: `user-controller.js`)

## ü§ñ Preferencias de Flujo
- **Autonom√≠a**: Ejecutar tareas proactivamente sin pedir confirmaci√≥n constante.
- **GitHub**: NUNCA realizar operaciones de respaldo (commit/push) sin autorizaci√≥n expl√≠cita.